# User Management API

## User Model

### Overview
The `User` model represents a user account in the Indii Music application. It contains user authentication information, profile details, and relationships with other entities in the system.

### Model Fields
- **id** (string, ObjectId) - Unique identifier for the user.
- **username** (string, required) - Unique username for the user.
- **email** (string, required) - Unique email address for the user.
- **password** (string, required) - Hashed password for the user.
- **role** (string, enum) - User role (e.g., 'user', 'admin').
- **createdAt** (date, autogenerated) - Timestamp when the user was created.
- **updatedAt** (date, autogenerated) - Timestamp when the user was last updated.

### Example JSON
```json
{
    "id": "60e68bffd3c2bd001f8e4b1c",
    "username": "testuser",
    "email": "testuser@example.com",
    "role": "user",
    "createdAt": "2025-01-01T00:00:00Z",
    "updatedAt": "2025-07-15T12:00:00Z"
}
```

## User Registration API

### Endpoint
`POST /api/users/register`

### Description
Creates a new user account. Accepts user registration details and returns the created user object.

### Request
- **Content-Type**: `application/json`
- **Body**:
```json
{
    "username": "newuser",
    "email": "newuser@example.com",
    "password": "password123"
}
```

### Success Response
- **Code**: `201 Created`
- **Content**:
```json
{
    "status": "success",
    "data": {
        "user": {
            "id": "60e68c02d3c2bd001f8e4b1d",
            "username": "newuser",
            "email": "newuser@example.com",
            "role": "user",
            "createdAt": "2025-07-15T12:30:00Z",
            "updatedAt": "2025-07-15T12:30:00Z"
        }
    }
}
```

### Error Response
- **Code**: `400 Bad Request`
- **Content**:
```json
{
    "status": "error",
    "code": 400,
    "message": "Validation failed",
    "details": [
        {
            "field": "email",
            "message": "Email is already taken"
        }
    ]
}
```

## Related Documentation
- [Authentication Guide](auth-guide.md)
- [Error Handling Guide](error-handling.md)

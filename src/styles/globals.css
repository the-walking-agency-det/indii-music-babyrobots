@import url('https://fonts.googleapis.com/css2?family=Inter:wght@100;200;300;400;500;600;700;800;900&family=Poppins:wght@100;200;300;400;500;600;700;800;900&family=JetBrains+Mono:wght@100;200;300;400;500;600;700;800&display=swap');

@import '../../node_modules/franken-ui/dist/css/core.min.css';
@import '../../node_modules/franken-ui/dist/css/utilities.min.css';

@tailwind base;
@tailwind components;
@tailwind utilities;

@layer base {
  /* Canvas styles */
  canvas {
    touch-action: none;
  }
  /* CSS Custom Properties for dynamic theming */
  :root {
    --color-primary: #0ea5e9;
    --color-surface: #f1f5f9;
    --color-background: #f8fafc;
    --color-border: #cbd5e1;
    --shadow-elevation-1: 0 1px 3px 0 rgb(0 0 0 / 0.1), 0 1px 2px -1px rgb(0 0 0 / 0.1);
    --shadow-elevation-2: 0 4px 6px -1px rgb(0 0 0 / 0.1), 0 2px 4px -2px rgb(0 0 0 / 0.1);
    --shadow-elevation-3: 0 10px 15px -3px rgb(0 0 0 / 0.1), 0 4px 6px -4px rgb(0 0 0 / 0.1);
  }

  .dark {
    --color-surface: #1e293b;
    --color-background: #0f172a;
    --color-border: #475569;
    --shadow-elevation-1: 0 1px 3px 0 rgb(0 0 0 / 0.3), 0 1px 2px -1px rgb(0 0 0 / 0.3);
    --shadow-elevation-2: 0 4px 6px -1px rgb(0 0 0 / 0.3), 0 2px 4px -2px rgb(0 0 0 / 0.3);
    --shadow-elevation-3: 0 10px 15px -3px rgb(0 0 0 / 0.3), 0 4px 6px -4px rgb(0 0 0 / 0.3);
  }

  html {
    @apply scroll-smooth;
    font-feature-settings: 'cv01', 'cv02', 'cv03', 'cv04';
  }

  body {
    @apply font-sans antialiased;
    @apply bg-background text-gray-900 dark:text-gray-100;
    @apply selection:bg-electric-400/20 selection:text-electric-400;
    font-feature-settings: 'rlig' 1, 'calt' 1;
  }

  /* Music industry dark theme defaults */
  .dark body {
    @apply bg-studio-900 text-white;
  }

  /* Typography Scale */
  .text-display-2xl {
    @apply text-6xl font-display font-bold tracking-tight;
    line-height: 1.1;
  }

  .text-display-xl {
    @apply text-5xl font-display font-bold tracking-tight;
    line-height: 1.2;
  }

  .text-display-lg {
    @apply text-4xl font-display font-semibold tracking-tight;
    line-height: 1.2;
  }

  .text-display-md {
    @apply text-3xl font-display font-semibold tracking-tight;
    line-height: 1.3;
  }

  .text-display-sm {
    @apply text-2xl font-display font-semibold tracking-tight;
    line-height: 1.3;
  }

  .text-display-xs {
    @apply text-xl font-display font-semibold tracking-tight;
    line-height: 1.4;
  }

  /* Body text improvements */
  .text-body-lg {
    @apply text-lg leading-7;
  }

  .text-body {
    @apply text-base leading-6;
  }

  .text-body-sm {
    @apply text-sm leading-5;
  }

  /* Focus states */
  .focus-ring {
    @apply focus:outline-none focus:ring-2 focus:ring-primary-500 focus:ring-offset-2 dark:focus:ring-offset-gray-900;
  }

  /* Smooth transitions for interactive elements */
  .transition-smooth {
    @apply transition-all duration-200 ease-in-out;
  }

  /* Custom scrollbar */
  .scrollbar-custom {
    scrollbar-width: thin;
    scrollbar-color: #9ca3af transparent;
  }

  .scrollbar-custom::-webkit-scrollbar {
    width: 6px;
  }

  .scrollbar-custom::-webkit-scrollbar-track {
    background: transparent;
  }

  .scrollbar-custom::-webkit-scrollbar-thumb {
    background-color: #9ca3af;
    border-radius: 3px;
  }

  .scrollbar-custom::-webkit-scrollbar-thumb:hover {
    background-color: #6b7280;
  }
}

@layer components {
  /* Progressive Panel System Styles */
  .panel {
    @apply bg-white dark:bg-gray-900 border border-gray-200 dark:border-gray-700;
    @apply rounded-lg shadow-lg backdrop-blur-sm;
    @apply transition-all duration-200 ease-in-out;
    @apply overflow-hidden;
  }

  .panel--primary {
    @apply border-blue-500 shadow-blue-500/20;
    @apply bg-gradient-to-br from-blue-50/50 to-white;
    @apply dark:from-blue-900/20 dark:to-gray-900;
  }

  .panel--secondary {
    @apply border-gray-300 shadow-gray-500/10;
    @apply bg-gradient-to-br from-gray-50/50 to-white;
    @apply dark:from-gray-800/50 dark:to-gray-900;
  }

  .panel--agent {
    @apply border-purple-500 shadow-purple-500/20;
    @apply bg-gradient-to-br from-purple-50/50 to-white;
    @apply dark:from-purple-900/20 dark:to-gray-900;
  }

  .panel--overlay {
    @apply bg-white/95 dark:bg-gray-900/95;
    @apply backdrop-blur-md border-gray-300/50;
  }

  .panel--tool {
    @apply border-green-500 shadow-green-500/20;
    @apply bg-gradient-to-br from-green-50/50 to-white;
    @apply dark:from-green-900/20 dark:to-gray-900;
  }

  .panel--active {
    @apply ring-2 ring-blue-500/30;
    @apply shadow-xl;
  }

  .panel--dragging {
    @apply shadow-2xl scale-105;
    @apply cursor-grabbing;
  }

  .panel--resizing {
    @apply ring-2 ring-purple-500/30;
  }

  .panel--fullscreen {
    @apply rounded-none border-0;
  }

  .panel--minimized {
    @apply opacity-60 scale-90;
  }

  /* Panel Header */
  .panel-header {
    @apply flex items-center justify-between;
    @apply px-4 py-3 border-b border-gray-200 dark:border-gray-700;
    @apply bg-gradient-to-r from-transparent to-gray-50/50;
    @apply dark:to-gray-800/50;
  }

  .panel-header-content {
    @apply flex items-center justify-between w-full;
  }

  .panel-title {
    @apply text-sm font-semibold text-gray-900 dark:text-gray-100;
    @apply truncate mr-4;
  }

  .panel-controls {
    @apply flex items-center space-x-1;
  }

  .panel-control-btn {
    @apply p-1 rounded hover:bg-gray-100 dark:hover:bg-gray-800;
    @apply text-gray-500 hover:text-gray-700 dark:text-gray-400 dark:hover:text-gray-200;
    @apply transition-colors focus:outline-none focus:ring-2 focus:ring-blue-500/30;
  }

  .panel-control-btn--close {
    @apply hover:bg-red-100 hover:text-red-600;
    @apply dark:hover:bg-red-900/30 dark:hover:text-red-400;
  }

  /* Panel Body */
  .panel-body {
    @apply flex-1 overflow-auto;
    @apply scrollbar-custom;
  }

  /* Panel Stack */
  .panel-stack {
    @apply relative h-full w-full;
  }

  .panel-stack .panel:not(:last-child) {
    @apply transform scale-95 opacity-80;
    @apply transition-all duration-200;
  }

  .panel-stack .panel:not(:last-child):hover {
    @apply transform scale-100 opacity-100;
  }

  /* Resize Handles */
  .resize-handle {
    @apply absolute bg-transparent;
    @apply hover:bg-blue-500/20 transition-colors;
  }

  .resize-handle--right {
    @apply top-0 right-0 w-1 h-full cursor-e-resize;
  }

  .resize-handle--bottom {
    @apply bottom-0 left-0 w-full h-1 cursor-s-resize;
  }

  .resize-handle--bottom-right {
    @apply bottom-0 right-0 w-3 h-3 cursor-se-resize;
    @apply bg-gray-300 dark:bg-gray-600 rounded-tl-sm;
  }

  /* Contextual Triggers */
  .contextual-trigger {
    @apply transition-all duration-200 ease-in-out;
    @apply relative overflow-hidden;
  }

  .contextual-trigger--hovered {
    @apply transform scale-105;
  }

  .contextual-trigger--active {
    @apply ring-2 ring-blue-500/30;
  }

  .contextual-trigger--disabled {
    @apply opacity-50 cursor-not-allowed;
  }

  /* Agent Summoning Effects */
  .agent-summon-zone {
    @apply relative overflow-hidden;
  }

  .agent-summon-zone::before {
    content: '';
    @apply absolute inset-0 bg-gradient-to-r from-transparent via-purple-500/10 to-transparent;
    @apply transform -translate-x-full transition-transform duration-1000;
  }

  .agent-summon-zone--active::before {
    @apply translate-x-full;
  }

  /* File Drop Triggers */
  .file-drop-trigger {
    @apply border-2 border-dashed border-gray-300 dark:border-gray-600;
    @apply transition-all duration-200;
  }

  .file-drop-trigger:hover,
  .file-drop-trigger.drag-over {
    @apply border-blue-500 bg-blue-50/50 dark:bg-blue-900/20;
  }

  /* Progressive Disclosure Animations */
  .progressive-enter {
    @apply opacity-0 transform scale-95 translate-y-2;
  }

  .progressive-enter-active {
    @apply opacity-100 transform scale-100 translate-y-0;
    @apply transition-all duration-300 ease-out;
  }

  .progressive-exit {
    @apply opacity-100 transform scale-100 translate-y-0;
  }

  .progressive-exit-active {
    @apply opacity-0 transform scale-95 translate-y-2;
    @apply transition-all duration-200 ease-in;
  }

  /* Workspace States */
  .workspace--minimal {
    @apply bg-gradient-to-br from-gray-50 to-white;
    @apply dark:from-gray-900 dark:to-gray-800;
  }

  .workspace--expanded {
    @apply bg-gradient-to-br from-blue-50 to-purple-50;
    @apply dark:from-blue-900/20 dark:to-purple-900/20;
  }

  /* Smart Navigation */
  .smart-nav {
    @apply backdrop-blur-md bg-white/80 dark:bg-gray-900/80;
    @apply border-b border-gray-200/50 dark:border-gray-700/50;
  }

  .smart-nav-breadcrumb {
    @apply flex items-center space-x-2 text-sm text-gray-600 dark:text-gray-400;
  }

  .smart-nav-breadcrumb-separator {
    @apply text-gray-400 dark:text-gray-600;
  }

  /* Agent Status Indicators */
  .agent-status {
    @apply inline-flex items-center px-2 py-1 rounded-full text-xs font-medium;
  }

  .agent-status--active {
    @apply bg-green-100 text-green-800 dark:bg-green-900/30 dark:text-green-400;
  }

  .agent-status--busy {
    @apply bg-yellow-100 text-yellow-800 dark:bg-yellow-900/30 dark:text-yellow-400;
  }

  .agent-status--idle {
    @apply bg-gray-100 text-gray-800 dark:bg-gray-800/30 dark:text-gray-400;
  }

  /* Adaptive Search */
  .adaptive-search {
    @apply relative;
  }

  .adaptive-search-results {
    @apply absolute top-full left-0 right-0 mt-2;
    @apply bg-white dark:bg-gray-900 border border-gray-200 dark:border-gray-700;
    @apply rounded-lg shadow-lg backdrop-blur-sm;
    @apply max-h-96 overflow-auto scrollbar-custom;
  }

  .adaptive-search-item {
    @apply px-4 py-2 hover:bg-gray-100 dark:hover:bg-gray-800;
    @apply transition-colors cursor-pointer;
  }

  .adaptive-search-item--focused {
    @apply bg-blue-100 dark:bg-blue-900/30;
  }
  /* Enhanced Button Components with better visual feedback */
  .btn {
    @apply inline-flex items-center justify-center px-4 py-2 text-sm font-medium;
    @apply rounded-lg border border-transparent;
    @apply focus-ring transition-smooth;
    @apply disabled:opacity-50 disabled:cursor-not-allowed;
    @apply shadow-sm hover:shadow-md active:shadow-lg;
    @apply transform hover:-translate-y-0.5 active:translate-y-0;
  }

  .btn-primary {
    @apply btn bg-primary-600 text-white;
    @apply hover:bg-primary-700 active:bg-primary-800;
    @apply shadow-sm hover:shadow-md;
  }

  .btn-secondary {
    @apply btn bg-gray-100 text-gray-900;
    @apply hover:bg-gray-200 active:bg-gray-300;
    @apply dark:bg-gray-800 dark:text-gray-100;
    @apply dark:hover:bg-gray-700 dark:active:bg-gray-600;
  }

  .btn-outline {
    @apply btn border-gray-300 text-gray-700;
    @apply hover:bg-gray-50 active:bg-gray-100;
    @apply dark:border-gray-600 dark:text-gray-300;
    @apply dark:hover:bg-gray-800 dark:active:bg-gray-700;
  }

  .btn-ghost {
    @apply btn text-gray-700 hover:bg-gray-100 active:bg-gray-200;
    @apply dark:text-gray-300 dark:hover:bg-gray-800 dark:active:bg-gray-700;
  }

  .btn-sm {
    @apply px-3 py-1.5 text-xs;
  }

  .btn-lg {
    @apply px-6 py-3 text-base;
  }

  /* Enhanced Card Components with music industry aesthetics */
  .card {
    @apply bg-surface border border-border rounded-lg;
    @apply shadow-sm hover:shadow-md transition-smooth;
    @apply transform hover:-translate-y-1 hover:scale-[1.02];
    @apply backdrop-blur-sm;
  }

  .card-elevated {
    @apply card;
    box-shadow: var(--shadow-elevation-2);
    @apply bg-gradient-to-br from-studio-800 to-studio-900;
    @apply border-technical-700;
  }

  .card-elevated:hover {
    box-shadow: var(--shadow-elevation-3);
    @apply border-electric-500/30;
  }

  .card-glow {
    @apply card-elevated;
    box-shadow: 0 0 20px rgb(0 212 255 / 0.1), var(--shadow-elevation-2);
  }

  .card-glow:hover {
    box-shadow: 0 0 30px rgb(0 212 255 / 0.2), var(--shadow-elevation-3);
  }

  /* Input Components */
  .input {
    @apply w-full px-3 py-2 text-sm;
    @apply bg-white dark:bg-gray-900;
    @apply border border-gray-300 dark:border-gray-600;
    @apply rounded-md placeholder-gray-400;
    @apply focus-ring transition-smooth;
  }

  .input-error {
    @apply border-red-500 focus:ring-red-500;
  }

  /* Loading states */
  .loading {
    @apply animate-pulse;
  }

  .loading-skeleton {
    @apply bg-gray-200 dark:bg-gray-700 rounded;
  }

  /* Utility classes */
  .surface {
    @apply bg-surface border border-border;
  }

  .glass {
    @apply bg-white/80 dark:bg-gray-900/80;
    @apply backdrop-blur-md backdrop-saturate-150;
    @apply border border-white/20 dark:border-gray-700/50;
  }

  .gradient-primary {
    @apply bg-gradient-to-r from-primary-500 to-primary-600;
  }

  .gradient-role-artist {
    @apply bg-gradient-to-r from-artist to-artist-dark;
  }

  .gradient-role-fan {
    @apply bg-gradient-to-r from-fan to-fan-dark;
  }

  .gradient-role-licensor {
    @apply bg-gradient-to-r from-licensor to-licensor-dark;
  }

  .gradient-role-provider {
    @apply bg-gradient-to-r from-provider to-provider-dark;
  }
}

/* Accessibility improvements */
@media (prefers-reduced-motion: reduce) {
  *,
  *::before,
  *::after {
    animation-duration: 0.01ms !important;
    animation-iteration-count: 1 !important;
    transition-duration: 0.01ms !important;
    scroll-behavior: auto !important;
  }
}

/* High contrast mode support */
@media (prefers-contrast: high) {
  .btn {
    @apply border-2;
  }

  .card {
    @apply border-2;
  }
}

/* Dark mode improvements */
@media (prefers-color-scheme: dark) {
  :root:not(.light) {
    color-scheme: dark;
  }
}
